[{"kind":2,"language":"python","value":"#%python\n#%input=command\n#%output=b_output\n#%cache=true\n#%schema=st(field(features,array(double)),field(label,long)))\n#%dataMode=model\n#%env=source /Users/allwefantasy/opt/anaconda3/bin/activate ray1.7.0\n\nfrom sklearn.datasets import load_breast_cancer\nfrom pyjava.api.mlsql import RayContext,PythonContext\n\ncontext: PythonContext = context\nray_context = RayContext.connect(globals(), None)\ntrain_x, train_y = load_breast_cancer(return_X_y=True)\nrows = [{\"features\":row[0],\"label\":row[1]} for row in zip(train_x.tolist(),train_y.tolist())]\ncontext.build_result(rows)","outputs":[]},{"kind":2,"language":"mlsql","value":"save overwrite b_output as delta.`data.breast_cancer`;","outputs":[]},{"kind":2,"language":"mlsql","value":"load delta.`data.breast_cancer` as newTable;","outputs":[]},{"kind":2,"language":"mlsql","value":"\n!python env \"PYTHON_ENV=source activate ray1.7.0\";\n\nset inModule=\"false\";\nset inputTable=\"newTable\";\nset outputTable=\"xgboostModelTable\";\nset rayAddress=\"127.0.0.1:10001\";\n\ninclude project.`src/algs/xgboost.mlsql`;\nsave overwrite xgboostModelTable as delta.`model.xgboost_breast_cancer`;","outputs":[]},{"kind":2,"language":"mlsql","value":"load delta.`data.breast_cancer` as newTable;","outputs":[]},{"kind":2,"language":"mlsql","value":"-- 引入xgboost 实现\ninclude lib.`github.com/allwefantasy/lib-core` where \nforce=\"true\" and\nlibMirror=\"gitee.com\" and -- proxy configuration.\nalias=\"libCore\";\n\n-- xgboost算法配置项\nset inputTable=\"newTable\";\nset outputTable=\"xgboostModelTable\";\nset rayAddress=\"127.0.0.1:10001\";\ninclude local.`libCore.alg.xgboost`;","outputs":[]},{"kind":2,"language":"mlsql","value":"-- XgboostExt 只是包裹了上面的脚本\ntrain newTable as XgboostExt.`data.breast_cancer` \nwhere rayAddress=\"127.0.0.1:10001\";","outputs":[]}]